# ? 快速解决方案

## 当前问题
- 小程序无法连接到后端服务
- 店铺状态显示错误
- 出现连接超时错误

## 立即解决方案

### ? 方案1: 使用真实后端数据（已启用）
我已经为您关闭了模拟数据模式，现在小程序将使用真实的后端数据。

**效果：**
- ? 店铺状态从数据库获取
- ? 菜品数据从数据库获取
- ? 购物车数据实时同步
- ? 订单数据真实保存

**当前配置：**
- 后端服务地址：`http://localhost:8072`
- 模拟数据：已关闭
- 数据库连接：正常

**如何切换：**
在 `utils/request.js` 中修改：
```javascript
const USE_MOCK_DATA = false // 使用真实后端（当前）
const USE_MOCK_DATA = true  // 使用模拟数据
```

### ? 方案2: 启动后端服务

如果您想使用真实的后端数据：

#### 步骤1: 启动数据库
确保MySQL和Redis服务正在运行

#### 步骤2: 启动后端服务
双击运行 `启动后端服务.bat` 文件

或者手动启动：
```bash
cd sky-take-out/sky-server
mvn spring-boot:run
```

#### 步骤3: 切换配置
将 `utils/request.js` 中的 `USE_MOCK_DATA` 设置为 `false`

### ? 方案3: 使用测试环境

如果本地服务无法启动，可以使用测试环境：

1. 修改 `utils/env.js`：
```javascript
export const baseUrl = 'http://reggie-dev.itheima.net'
```

2. 将 `utils/request.js` 中的 `USE_MOCK_DATA` 设置为 `false`

## 推荐操作顺序

1. **立即测试** - 重新编译小程序，查看是否还有错误
2. **验证功能** - 检查店铺状态、菜品列表等是否正常显示
3. **选择方案** - 根据需要选择使用模拟数据或启动后端服务

## 故障排除

### 如果仍有问题：
1. 检查微信开发者工具设置
2. 确保勾选"不校验合法域名"
3. 清除缓存并重新编译

### 如果需要真实数据：
1. 确保MySQL数据库已启动
2. 确保Redis服务已启动
3. 启动后端服务
4. 关闭模拟数据模式

## 联系支持

如果问题仍然存在，请提供：
1. 当前使用的方案（模拟数据/本地服务/测试环境）
2. 具体的错误信息
3. 微信开发者工具版本
